<div class="resources__preview">
    {% for preview in previews %}
    <div class="resources__preview__item">
        {% include "./_resources-block-item.twig" with {resource: preview} %}
    </div>
    {% endfor %}
</div>

<div class="resources__preview__pages">

    {% for page in 1..pagesTotal %}
        {% if page == 1 or page == pagesTotal %}
            {% if page == currentPage %}
                <div class="resources__preview__page resources__preview__page_selected" data-page_number={{ page }}>{{ page }}</div>
                {% else %}
                <div class="resources__preview__page" data-page_number={{ page }}>{{ page }}</div>
            {% endif %}
        {% else %}
        
            {% if page == 2 and pagesTotal > 5 and currentPage > 3 %}
                <p>...</p>
            {% endif %}

            {% if page == currentPage-1 or page == currentPage or page == currentPage+1 %}
                {% if page == currentPage %}
                    <div class="resources__preview__page resources__preview__page_selected" data-page_number={{ page }}>{{ page }}</div>
                    {% else %}
                    <div class="resources__preview__page" data-page_number={{ page }}>{{ page }}</div>
                {% endif %}
            {% endif %}

            {% if page == pagesTotal-1 and pagesTotal > 5 and currentPage < pagesTotal-2 %}
                <p>...</p>
            {% endif %}


        {% endif %}
    {% endfor %}



</div>
